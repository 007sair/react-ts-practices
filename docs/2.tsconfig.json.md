# tsconfig.json

> ğŸ’¡ tsconfig.json æ”¯æŒ[JSON5](https://json5.org/)ï¼Œå¯ä»¥åœ¨`tsconfig.json`æ–‡ä»¶ä¸­æ·»åŠ æ³¨é‡Šï¼Œä½¿ç”¨å•å¼•å·ä»£æ›¿ã€‚

## ä½œç”¨

1. æŒ‡æ˜å½“å‰ç›®å½•æ˜¯ ts é¡¹ç›®çš„æ ¹ç›®å½•ï¼›
2. æŒ‡å®šäº†æ ¹æ–‡ä»¶å’Œç¼–è¯‘é¡¹ç›®æ‰€éœ€çš„ç¼–è¯‘å™¨é€‰é¡¹ã€‚

## å­—æ®µ

```json
{
  // æŒ‡å®šè¦ç¼–è¯‘çš„æ–‡ä»¶åç§°
  "files": ["core.ts","sys.ts",...],

  // æˆ–è€…ä½¿ç”¨ include/exclude å­—æ®µï¼Œæ”¯æŒè·¯å¾„æ¨¡å¼åŒ¹é…
  "include": ["src/**/*"],
  "exclude": ["node_modules", "**/*.spec.ts"],

  // ç¼–è¯‘å™¨é€‰é¡¹
  "compilerOptions": {}
}
```

**compilerOptions é…ç½®ï¼š**

<details style="margin-bottom: 20px">
<summary>è¯¦ç»†é…ç½®</summary>

```tsx
{
  "compilerOptions": {

    /* åŸºæœ¬é€‰é¡¹ */
    "target": "es5",                       // æŒ‡å®š ECMAScript ç›®æ ‡ç‰ˆæœ¬: 'ES3' (default), 'ES5', 'ES6'/'ES2015', 'ES2016', 'ES2017', or 'ESNEXT'
    "module": "commonjs",                  // æŒ‡å®šä½¿ç”¨æ¨¡å—: 'commonjs', 'amd', 'system', 'umd' or 'es2015'
    "lib": [],                             // æŒ‡å®šè¦åŒ…å«åœ¨ç¼–è¯‘ä¸­çš„åº“æ–‡ä»¶
    "allowJs": true,                       // å…è®¸ç¼–è¯‘ javascript æ–‡ä»¶
    "checkJs": true,                       // æŠ¥å‘Š javascript æ–‡ä»¶ä¸­çš„é”™è¯¯
    "jsx": "preserve",                     // æŒ‡å®š jsx ä»£ç çš„ç”Ÿæˆ: 'preserve', 'react-native', or 'react'
    "declaration": true,                   // ç”Ÿæˆç›¸åº”çš„ '.d.ts' æ–‡ä»¶
    "sourceMap": true,                     // ç”Ÿæˆç›¸åº”çš„ '.map' æ–‡ä»¶
    "outFile": "./",                       // å°†è¾“å‡ºæ–‡ä»¶åˆå¹¶ä¸ºä¸€ä¸ªæ–‡ä»¶
    "outDir": "./",                        // æŒ‡å®šè¾“å‡ºç›®å½•
    "rootDir": "./",                       // ç”¨æ¥æ§åˆ¶è¾“å‡ºç›®å½•ç»“æ„ --outDir.
    "removeComments": true,                // åˆ é™¤ç¼–è¯‘åçš„æ‰€æœ‰çš„æ³¨é‡Š
    "noEmit": true,                        // ä¸ç”Ÿæˆè¾“å‡ºæ–‡ä»¶
    "importHelpers": true,                 // ä» tslib å¯¼å…¥è¾…åŠ©å·¥å…·å‡½æ•°
    "isolatedModules": true,               // å°†æ¯ä¸ªæ–‡ä»¶åšä¸ºå•ç‹¬çš„æ¨¡å— ï¼ˆä¸ 'ts.transpileModule' ç±»ä¼¼ï¼‰.

    /* ä¸¥æ ¼çš„ç±»å‹æ£€æŸ¥é€‰é¡¹ [Link](https://www.typescriptlang.org/tsconfig#strict) */
    "strict": true,                        // å¯ç”¨æ‰€æœ‰ä¸¥æ ¼ç±»å‹æ£€æŸ¥é€‰é¡¹
    "noImplicitAny": true,                 // åœ¨è¡¨è¾¾å¼å’Œå£°æ˜ä¸Šæœ‰éšå«çš„ anyç±»å‹æ—¶æŠ¥é”™
    "strictNullChecks": true,              // å¯ç”¨ä¸¥æ ¼çš„ null æ£€æŸ¥
    "noImplicitThis": true,                // å½“ this è¡¨è¾¾å¼å€¼ä¸º any ç±»å‹çš„æ—¶å€™ï¼Œç”Ÿæˆä¸€ä¸ªé”™è¯¯
    "alwaysStrict": true,                  // ä»¥ä¸¥æ ¼æ¨¡å¼æ£€æŸ¥æ¯ä¸ªæ¨¡å—ï¼Œå¹¶åœ¨æ¯ä¸ªæ–‡ä»¶é‡ŒåŠ å…¥ 'use strict'
    "strictBindCallApply": true            // æ£€æŸ¥ callã€applyã€bindçš„å‚æ•°æ­£ç¡®æ€§
    "strictFunctionTypes": true,           // æ£€æŸ¥å‡½æ•°å‚æ•°æ˜¯å¦æ­£ç¡®
    "strictPropertyInitialization": true,  // æ£€æŸ¥ç±»çš„å±æ€§å£°æ˜ä½†æœªåˆå§‹åŒ–çš„é—®é¢˜
    "useUnknownInCatchVariables": true,    // æ£€æŸ¥catchä¸­çš„errç±»å‹

    /* é¢å¤–çš„æ£€æŸ¥ */
    "noUnusedLocals": true,                // æœ‰æœªä½¿ç”¨çš„å˜é‡æ—¶ï¼ŒæŠ›å‡ºé”™è¯¯
    "noUnusedParameters": true,            // æœ‰æœªä½¿ç”¨çš„å‚æ•°æ—¶ï¼ŒæŠ›å‡ºé”™è¯¯
    "noImplicitReturns": true,             // å¹¶ä¸æ˜¯æ‰€æœ‰å‡½æ•°é‡Œçš„ä»£ç éƒ½æœ‰è¿”å›å€¼æ—¶ï¼ŒæŠ›å‡ºé”™è¯¯
    "noFallthroughCasesInSwitch": true,    // æŠ¥å‘Š switch è¯­å¥çš„ fallthrough é”™è¯¯ã€‚ï¼ˆå³ï¼Œä¸å…è®¸ switch çš„ case è¯­å¥è´¯ç©¿ï¼‰

    /* æ¨¡å—è§£æé€‰é¡¹ */
    "moduleResolution": "node",            // é€‰æ‹©æ¨¡å—è§£æç­–ç•¥ï¼š 'node' (Node.js) or 'classic' (TypeScript pre-1.6)
    "baseUrl": "./",                       // ç”¨äºè§£æéç›¸å¯¹æ¨¡å—åç§°çš„åŸºç›®å½•
    "paths": {},                           // æ¨¡å—ååˆ°åŸºäº baseUrl çš„è·¯å¾„æ˜ å°„çš„åˆ—è¡¨
    "rootDirs": [],                        // æ ¹æ–‡ä»¶å¤¹åˆ—è¡¨ï¼Œå…¶ç»„åˆå†…å®¹è¡¨ç¤ºé¡¹ç›®è¿è¡Œæ—¶çš„ç»“æ„å†…å®¹
    "typeRoots": [],                       // åŒ…å«ç±»å‹å£°æ˜çš„æ–‡ä»¶åˆ—è¡¨
    "types": [],                           // éœ€è¦åŒ…å«çš„ç±»å‹å£°æ˜æ–‡ä»¶ååˆ—è¡¨
    "allowSyntheticDefaultImports": true,  // å…è®¸ä»æ²¡æœ‰è®¾ç½®é»˜è®¤å¯¼å‡ºçš„æ¨¡å—ä¸­é»˜è®¤å¯¼å…¥ã€‚

    /* Source Map Options */
    "sourceRoot": "./",                    // æŒ‡å®šè°ƒè¯•å™¨åº”è¯¥æ‰¾åˆ° TypeScript æ–‡ä»¶è€Œä¸æ˜¯æºæ–‡ä»¶çš„ä½ç½®
    "mapRoot": "./",                       // æŒ‡å®šè°ƒè¯•å™¨åº”è¯¥æ‰¾åˆ°æ˜ å°„æ–‡ä»¶è€Œä¸æ˜¯ç”Ÿæˆæ–‡ä»¶çš„ä½ç½®
    "inlineSourceMap": true,               // ç”Ÿæˆå•ä¸ª soucemaps æ–‡ä»¶ï¼Œè€Œä¸æ˜¯å°† sourcemaps ç”Ÿæˆä¸åŒçš„æ–‡ä»¶
    "inlineSources": true,                 // å°†ä»£ç ä¸ sourcemaps ç”Ÿæˆåˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œè¦æ±‚åŒæ—¶è®¾ç½®äº† --inlineSourceMap æˆ– --sourceMap å±æ€§

    /* å…¶ä»–é€‰é¡¹ */
    "experimentalDecorators": true,        // å¯ç”¨è£…é¥°å™¨
    "emitDecoratorMetadata": true          // ä¸ºè£…é¥°å™¨æä¾›å…ƒæ•°æ®çš„æ”¯æŒ
  }
}
```

</details>

**å…³äºä¸¥æ ¼æ¨¡å¼ï¼š**

- [TypeScript ä¸­çš„ä¸¥æ ¼æ¨¡å¼ - æ˜é‡‘](https://juejin.cn/post/6896680181000634376)
- [The --strict Compiler Option in TypeScript](https://mariusschulz.com/blog/the-strict-compiler-option-in-typescript)

## é¢„è®¾é…ç½®

é™¤äº†è‡ªè¡Œé…ç½®ï¼Œè¿˜èƒ½é€šè¿‡ `extends` å­—æ®µç»§æ‰¿é¢„è®¾é…ç½® [github.com/tsconfig/bases](https://github.com/tsconfig/bases/)ï¼Œæ¯”å¦‚ä½¿ç”¨ [vite-react](https://github.com/tsconfig/bases/blob/main/bases/vite-react.json) é…ç½®ï¼š

```json
{
  "extends": "@tsconfig/vite-react/tsconfig.json",
  "include": ["src/**/*"],
  "exclude": ["node_modules", "**/*.spec.ts"]
}
```

## å‚è€ƒ

- [What is a tsconfig.json](https://www.typescriptlang.org/docs/handbook/tsconfig-json.html) å®˜æ–¹æ–‡æ¡£
- [TSConfig Reference](https://www.typescriptlang.org/tsconfig) é…ç½®é¡¹è¯´æ˜æ–‡æ¡£ï¼Œå¯ä½œä¸ºæŸ¥è¯¢æ‰‹å†Œ
